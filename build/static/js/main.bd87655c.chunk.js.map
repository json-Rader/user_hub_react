{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bd87655c.chunk.js","sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport{NavLink} from 'react-router-dom';\n\nimport {\n    storeCurrentUser,\n    clearCurrentUser\n} from '../auth';\n\nimport './Header.css';\n\nconst Header = ({ \n    currentUser,\n    setCurrentUser,\n    userList\n}) => {\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => {\n        setSelectedUser(userList[0]);\n    }, [userList]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return (\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form \n                className=\"user-select\" \n                onSubmit={ handleSubmit } >\n                {\n                currentUser\n                ? <>\n                    <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                    <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n                    <button onClick={handleUserLogout}>LOG OUT, {currentUser.username}</button>\n                </>\n                : <>\n                    <select onChange={ handleSelectChange }>{\n                        userList.map(user => (\n                            <option key={ user.id } value={ user.id }>\n                                { user.username }\n                            </option>\n                        ))\n                    }</select>\n                    <button onClick={ handleUserLogin }>LOG IN</button>\n                </>\n            }   \n            </form>\n        </header>\n    );\n}\n\nexport default Header;","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n  }\n  \n  export function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n  }\n  \n  export function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n  }","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser,\n    userPosts\n}) => {\n    return (\n        <div className=\"user-posts\">\n            <h2>Posts By { currentUser.username }</h2>\n            {userPosts.map(({ id, title, body}) => (\n                <div key={ id } className=\"post\">\n                    <h3>{ title }</h3>\n                    <p>{ body }</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n  currentUser,\n  userTodos\n}) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos By { currentUser.username }</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={ id } className=\"todo\">\n          <h3 style={{\n            textDecoration: completed ? 'line-through' : 'none'\n          }}>{ title }</h3>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n  try {\n    const { data } = await axios.get(`${ BASE }/users`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPostsByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/posts`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTodosByUser(userId) {\n  try {\n    const { data } = await axios.get(`${ BASE }/users/${ userId }/todos`);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n\nimport {\n  Header,\n  UserPosts,\n  UserTodos\n} from './components';\n\nimport {\n  getUsers,\n  getPostsByUser,\n  GetTodosByUser,\n  getTodosByUser\n} from './api';\n\nimport {\n  getCurrentUser\n} from './auth';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  }, []);\n\n  useEffect(() => {\n    if(!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    \n    getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        console.error(error)\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header \n          userList={userList}\n          currentUser={currentUser}\n          setCurrentUser={setCurrentUser} />\n        {\n          currentUser\n          ? <>\n            <Switch>\n              <Route path=\"/posts\">\n                <UserPosts\n                  userPosts={userPosts}\n                  currentUser={currentUser} />\n              </Route>\n              <Route path=\"/todos\">\n                <UserTodos\n                  userTodos={userTodos}\n                  currentUser={currentUser} />\n              </Route>\n              <Route exact path=\"/\">\n                <h2 style={{\n                  padding: \".5em\"\n                }}>Welcome, {currentUser.username}!</h2>\n              </Route>\n              <Redirect to=\"/\" />\n            </Switch>\n          </>\n          : <>\n            <Switch>\n              <Route exact path=\"/\">\n                <h2 style={{\n                  padding: \".5em\"\n                }}>Please log in, above.</h2>\n              </Route>\n              <Redirect to=\"/\" />\n            </Switch>\n          </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}